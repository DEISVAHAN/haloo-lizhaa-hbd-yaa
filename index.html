<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Situs Web Luar Biasa Saya - Windows 95 Style</title>
    <!-- Tailwind CSS for basic structure and responsive utility -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Menggunakan font yang menyerupai antarmuka Windows 95 */
        @font-face {
            font-family: 'W95Font';
            /* Ini hanya placeholder, font yang lebih dekat adalah 'MS Sans Serif' atau 'Chicago', 
               tapi kita akan menggunakan 'Inter' dan meniru gayanya. */
            src: url('https://fonts.gstatic.com/s/inter/v12/UuJ1lP9w3x-T3L2W8g2P0A.woff2') format('woff2');
            font-weight: 400;
            font-style: normal;
        }

        body {
            font-family: 'W95Font', 'Inter', sans-serif;
            background-color: #0000a8; /* Warna Biru Klasik */
            /* Mengatur body untuk menengahkan loading dialog */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 0; /* Menghilangkan padding agar desktop fullscreen */
            overflow: hidden;
            font-size: 11px;
        }
        
        /* --- Global W95 Style --- */
        .w95-base {
            background-color: #c0c0c0; /* Abu-abu Ikonik */
            border-style: solid;
            border-width: 2px;
            border-color: #ffffff #808080 #808080 #ffffff;
            box-shadow: 1px 1px 0 #000000;
        }

        .w95-raised {
            border-style: solid;
            border-width: 2px;
            border-color: #ffffff #808080 #808080 #ffffff;
        }

        .w95-sunken {
            border-style: solid;
            border-width: 2px;
            border-color: #808080 #ffffff #ffffff #808080;
            box-shadow: inset 1px 1px 0 #000000;
        }

        .w95-title-bar {
            background-color: #000080; /* Biru Gelap Ikonik */
            color: white;
            padding: 2px 4px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: default;
        }

        .w95-button {
            background-color: #c0c0c0;
            color: #000000;
            font-size: 12px;
            padding: 1px 6px;
            margin: 0 1px;
            cursor: pointer;
            line-height: normal;
            min-width: 16px;
            text-align: center;
            border-style: solid;
            border-width: 2px;
            border-color: #ffffff #000000 #000000 #ffffff;
        }

        .w95-button:active:not(:disabled) {
            border-color: #000000 #ffffff #ffffff #000000;
            box-shadow: inset 1px 1px 0 #000000;
        }
        
        .w95-button:disabled {
            color: #808080; /* Warna abu-abu untuk teks tombol nonaktif */
            border-color: #c0c0c0 #c0c0c0 #c0c0c0 #c0c0c0;
            cursor: default;
        }

        /* --- LOADING SCREEN STYLES --- */
        #loading-dialog {
            position: fixed;
            z-index: 9999;
            width: 350px;
            max-width: 90%;
            text-align: center;
            padding: 2px;
        }
        
        .dialog-content {
            padding: 15px;
            background-color: #c0c0c0;
        }

        /* Progress Bar Container (using w95-sunken style) */
        .progress-bar-container {
            height: 18px;
            margin-top: 10px;
            overflow: hidden;
        }

        /* Progress Bar */
        .progress-bar {
            height: 100%;
            width: 0%;
            background-color: #00ff00; /* Hijau Terang */
            transition: width 0.3s linear;
        }

        /* Progress bar animation (marching ants effect) */
        .progress-bar.active {
            background-image: linear-gradient(
                -45deg,
                rgba(255, 255, 255, 0.15) 25%,
                transparent 25%,
                transparent 50%,
                rgba(255, 255, 255, 0.15) 50%,
                rgba(255, 255, 255, 0.15) 75%,
                transparent 75%,
                transparent
            );
            background-size: 15px 15px;
            animation: progress-stripes 1s linear infinite;
        }

        @keyframes progress-stripes {
            0% { background-position: 15px 0; }
            100% { background-position: 0 0; }
        }

        /* --- DESKTOP COMPONENTS --- */
        .desktop {
            display: none; /* Awalnya disembunyikan */
            width: 100vw;
            height: 100vh; 
            background-color: #0000a8; /* Warna Biru Klasik */
            position: relative;
            box-shadow: none; /* Override box-shadow from w95-base */
            padding: 5px;
            box-sizing: border-box;
            flex-direction: column; 
            align-items: flex-start;
            justify-content: flex-start;
        }
        
        /* Scrollbar style (Meniru tampilan Win95) */
        .w95-scroll {
            scrollbar-width: thin;
            scrollbar-color: #808080 #c0c0c0;
        }

        .w95-scroll::-webkit-scrollbar {
            width: 16px;
            height: 16px;
        }

        .w95-scroll::-webkit-scrollbar-thumb {
            background-color: #c0c0c0;
            border-style: solid;
            border-width: 1px;
            border-color: #ffffff #808080 #808080 #ffffff;
        }

        .w95-scroll::-webkit-scrollbar-track {
            background-color: #c0c0c0;
        }

        /* Ikon di Desktop */
        .desktop-icon {
            color: white;
            text-align: center;
            width: 60px;
            margin: 10px 10px;
            cursor: pointer;
            user-select: none;
            text-shadow: 1px 1px 0 #000000;
        }

        .icon-box {
            display: inline-block;
            width: 32px;
            height: 32px;
            background-color: #c0c0c0;
            border: 1px solid #000000;
            margin-bottom: 4px;
            font-size: 20px;
            line-height: 32px;
        }

        /* Bilah Tugas (Taskbar) */
        .taskbar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 28px;
            background-color: #c0c0c0;
            display: flex;
            align-items: center;
            padding: 2px;
            border-top: 2px solid #ffffff;
        }

        .start-button {
            width: 50px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            border-style: solid;
            border-width: 2px;
            border-color: #ffffff #000000 #000000 #ffffff;
            height: 22px;
            line-height: 1;
            padding: 0 4px;
            margin-right: 4px;
            background: #c0c0c0;
            cursor: pointer;
        }

        .start-button:active {
            border-color: #000000 #ffffff #ffffff #000000;
            box-shadow: inset 1px 1px 0 #000000;
        }

        .taskbar-time {
            height: 22px;
            padding: 0 6px;
            font-size: 12px;
            line-height: 22px;
        }

        /* --- Custom Window Styles --- */
        #birthday-window {
            width: 70vw; 
            max-width: 700px; 
            height: 75vh; 
            max-height: 750px; 
            
            position: absolute;
            top: 50%; 
            left: 50%;
            transform: translate(-50%, -50%); 
            z-index: 20; 
            display: none; 
            flex-direction: column; 
            min-width: 300px; 
        }

        #music-window {
            width: 350px; 
            max-width: 90%; 
            
            position: absolute;
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%); 
            z-index: 20; 
            display: none; 
            flex-direction: column; 
        }
        
        #cake-window {
            width: 450px; 
            max-width: 90%; 
            height: auto; 
            
            position: absolute;
            top: 50%; 
            left: 50%;
            transform: translate(-50%, -50%); 
            z-index: 20; 
            display: none; 
            flex-direction: column; 
        }

        #prayer-dialog {
            width: 400px;
            max-width: 90%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 30; 
            display: none;
            padding: 2px;
        }

        /* --- GALLERY VIEWER WINDOW STYLES --- */
        #gallery-window {
            width: 650px; 
            max-width: 95%; 
            height: auto; 
            
            position: absolute;
            top: 50%; 
            left: 50%;
            transform: translate(-50%, -50%); 
            z-index: 20; 
            display: none; 
            flex-direction: column; 
            min-width: 350px; 
        }
        
        .gallery-content-wrapper {
            padding: 15px;
            background-color: #c0c0c0;
            position: relative;
        }
        
        .image-display-area {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            min-height: 350px; 
        }
        
        .polaroid {
            background: white;
            padding: 10px 10px 30px 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            transform: rotate(-1deg); /* Sedikit rotasi seperti foto asli */
            max-width: 90%;
            box-sizing: content-box;
        }
        
        .gallery-image {
            width: 100%;
            height: auto;
            display: block;
            max-width: 400px; /* Batasi ukuran foto */
        }
        
        .caption {
            text-align: center;
            font-size: 14px;
            font-weight: bold;
            color: #333;
            margin-top: 10px;
        }
        
        .navigation-buttons {
            gap: 10px;
        }

        .navigation-buttons button {
            padding: 4px 10px;
            min-width: 100px;
        }

        .menu-bar {
            background-color: #c0c0c0;
            padding: 2px;
            border-bottom: 1px solid #808080;
        }

        .menu-item {
            margin-right: 10px;
            cursor: default;
        }
        
        .window-content-wrapper {
            padding: 10px;
            background-color: #c0c0c0;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            overflow: auto;
        }
        
        .birthday-header {
            text-align: center;
            margin-bottom: 15px;
            padding: 5px;
            border-bottom: 2px solid #808080;
        }
        
        .birthday-title {
            font-size: 24px;
            font-weight: bold;
            color: #000080;
            text-shadow: 1px 1px 0 #ffffff;
        }
        
        .birthday-main-text {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            color: #cc0000;
            margin-bottom: 20px;
            padding: 5px;
            border: 2px dashed #cc0000;
            background-color: #ffffe0;
        }
        
        .message-container {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }
        
        .message-label {
            font-size: 11px;
            font-weight: bold;
            margin-bottom: 2px;
            color: #000000;
        }

        /* Area Pesan (Simulasi text editor/notepad) */
        .message-box-area {
            background-color: white; 
            padding: 10px;
            text-align: left;
            flex-grow: 1; 
            overflow-y: auto;
            font-size: 12px;
            line-height: 1.4;
            white-space: pre-wrap; 
            font-family: 'Courier New', monospace; 
            min-height: 150px;
        }

        .music-player-body {
            background-color: #eeeeee; 
            padding: 10px 15px;
        }
        
        .play-button-center {
            width: 40px;
            height: 40px;
            background-color: #c0c0c0;
            border-style: solid;
            border-width: 2px;
            border-color: #ffffff #000000 #000000 #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 20px;
            line-height: 1;
        }
        .play-button-center:active {
            border-color: #000000 #ffffff #ffffff #000000;
            box-shadow: inset 1px 1px 0 #000000;
        }

        .time-bar-container {
            height: 10px;
            background-color: #808080;
            border: 1px solid #000;
            cursor: pointer;
        }
        .time-bar-progress {
            height: 100%;
            background-color: #000080;
            width: 0%;
        }

        .slider-container {
            height: 10px;
            background-color: #c0c0c0;
            border-style: solid;
            border-width: 2px;
            border-color: #808080 #ffffff #ffffff #808080;
            box-shadow: inset 1px 1px 0 #000000;
            cursor: pointer;
            position: relative;
        }
        .slider-fill {
            height: 100%;
            background-color: #000080;
            position: relative;
        }
        .slider-thumb {
            position: absolute;
            right: -6px; 
            top: -4px;
            width: 10px;
            height: 18px;
            background-color: #c0c0c0;
            border-style: solid;
            border-width: 2px;
            border-color: #ffffff #000000 #000000 #ffffff;
            cursor: grab;
        }

        /* --- Custom Cake & Flame Styles --- */

        .cake-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            text-align: center;
            flex-grow: 1;
        }

        .cake-visual {
            font-size: 80px; 
            position: relative;
            margin-bottom: 10px;
        }

        .candle-container {
            position: absolute;
            top: -20px; 
            right: 0px; 
            display: flex;
            justify-content: center;
            align-items: flex-end;
            transform: translateX(50%); 
        }
        
        .candle {
            width: 6px;
            height: 25px;
            background-color: #f7d730; 
            position: relative;
            border: 1px solid #000;
        }

        .wick {
            position: absolute;
            top: -3px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 4px;
            background-color: #222;
        }

        .flame {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 12px;
            background: radial-gradient(circle at 50% 100%, #ffc000, #ff8c00 60%, transparent 80%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            filter: drop-shadow(0 0 5px #ffcc00);
            animation: flicker 0.2s infinite alternate; 
        }

        @keyframes flicker {
            0% { transform: translateX(-50%) scaleY(1); opacity: 0.9; }
            100% { transform: translateX(-50%) scaleY(0.95); opacity: 1; filter: drop-shadow(0 0 6px #ffcc00); }
        }

        .prayer-reminder {
            font-size: 14px;
            color: #000080;
            font-weight: bold;
            margin-top: 15px;
            margin-bottom: 20px;
            padding: 5px 10px;
            background-color: #ffffe0; 
            border: 1px solid #000080;
        }
        
        .action-button-group {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 10px;
            border-top: 1px solid #808080;
            margin-top: auto; 
        }


        /* Responsif: Pastikan elemen terlihat bagus di perangkat kecil */
        @media (max-width: 768px) {
            .desktop {
                height: 90vh;
                margin-top: 10px;
                padding: 5px;
            }
            #loading-dialog {
                width: 90%;
            }
            #birthday-window, #cake-window, #gallery-window {
                width: 95%; 
                height: 85vh; 
                top: 50%; 
            }
            #music-window {
                width: 95%; 
            }
            #prayer-dialog {
                width: 90%;
            }
        }
    </style>
</head>
<body>

    <!-- 1. LOADING SCREEN (Awalnya terlihat) -->
    <div id="loading-dialog" class="loading-dialog w95-base">
        <!-- Title Bar -->
        <div class="w95-title-bar">
            <div class="title-bar-text">Memuat Sistem Berkas...</div>
            <div class="flex">
                <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0;">X</div>
            </div>
        </div>

        <div class="dialog-content">
            <p style="font-size: 14px; margin-bottom: 15px;">
                <strong>Memuat Antarmuka Desktop 32-bit (Simulasi)...</strong>
            </p>
            <!-- Progress Bar (Menggunakan w95-sunken) -->
            <div class="progress-bar-container w95-sunken">
                <div id="progressBar" class="progress-bar active"></div>
            </div>
            <p id="progressText" style="margin-top: 10px; font-size: 12px;">0% Selesai</p>
        </div>
    </div>

    <!-- 2. DESKTOP SCREEN (Awalnya tersembunyi) -->
    <div class="desktop" id="desktop">
        
        <!-- HAPPY BIRTHDAY WINDOW (present.exe) -->
        <div id="birthday-window" class="w95-base">
            <!-- Title Bar -->
            <div class="w95-title-bar">
                <div class="title-bar-text">HAPPY BIRTHDAY.TXT</div>
                <div class="flex">
                    <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0;">_</div>
                    <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0; margin-left: 2px;">&#9744;</div>
                    <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0; margin-left: 2px;" onclick="closeBirthdayWindow()">X</div>
                </div>
            </div>

            <!-- Menu Bar (Simplified) -->
            <div class="menu-bar">
                <span class="menu-item"><u>F</u>ile</span>
                <span class="menu-item"><u>E</u>dit</span>
                <span class="menu-item"><u>V</u>iew</span>
                <span class="menu-item"><u>H</u>elp</span>
            </div>

            <!-- Window Content -->
            <div class="window-content-wrapper w95-scroll">
                
                <div class="birthday-header">
                    <div class="birthday-title">
                        <span style="font-size: 20px; margin-right: 5px;">üéâ</span>
                        <span style="font-size: 20px; color: #ff4500; margin-right: 5px;">‚ù§Ô∏è</span>
                        HAPPY BIRTHDAY
                        <span style="font-size: 20px; color: #ff4500; margin-left: 5px;">‚ù§Ô∏è</span>
                        <span style="font-size: 20px; margin-left: 5px;">üéâ</span>
                    </div>
                </div>

                <div class="birthday-main-text">
                    SELAMAT ULANG TAHUN KE-27
                </div>

                <!-- Message Box (Simulated Text Area) -->
                <div class="message-container">
                    <div class="message-label">MESSAGE.TXT</div>
                    <div class="message-box-area w95-sunken" style="flex-grow: 1;">
Haiii, selamat ulang tahun! Hari ini aku pengen kamu 
ngerasain semua vibes positif dan kebahagiaan yang cuma bisa 
didapetin kalo kamu ada di sini. Semoga segala keinginanmu 
tercapai, apalagi yang kocak-kocak, jangan gak biasa, karena kamu 
tuh unik banget! Aku selalu bersyukur bisa ngeliat kamu jadi 
versi terbaik dari dirimu, yang kadang-kadang lucu banget pas 
lagi laper, tapi juga selalu bikin aku tersenyum tanpa henti.

Makasih udah jadi temen curhat, partner in crime, dan sumber 
inspirasi sehari-hari. Semoga tahun ini kamu makin kece, makin 
banyak momen bahagia, dan makin dicintai, karena kamu emang 
pantas dapetin semua itu. Jangan lupa, kita bakal terus jalan 
bareng, ngejar mimpi, dan ngelewatin segala drama hidup dengan 
ketawa paling kenceng.

Love and best wishes,
- Teman Terbaikmu
                    </div>
                </div>

            </div>
        </div>
        
        <!-- MUSIC PLAYER WINDOW (music.mp3) -->
        <div id="music-window" class="w95-base">
            <!-- Title Bar -->
            <div class="w95-title-bar">
                <div class="title-bar-text">MUSIC_PLAYER.EXE</div>
                <div class="flex">
                    <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0;">_</div>
                    <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0; margin-left: 2px;">&#9744;</div>
                    <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0; margin-left: 2px;" onclick="closeMusicWindow()">X</div>
                </div>
            </div>

            <!-- Elemen Audio untuk pemutaran musik -->
            <audio id="hbdAudio" src="./hbd.mp3" preload="auto" loop></audio>


            <!-- Window Content (Background Putih/Cerah) -->
            <div class="music-player-body flex flex-col items-center">
                <!-- Status/Judul Lagu -->
                <div class="text-center mb-3">
                    <p id="trackTitle" class="font-bold text-sm">hbd.mp3</p>
                    <p class="text-xs">Ulang Tahun Klasik</p>
                </div>
                
                <!-- Tombol Putar (Ikon Tengah) -->
                <div id="playPauseButton" class="play-button-center mb-5" onclick="togglePlayback()">
                    <span id="playIcon">‚ñ∂</span> 
                </div>

                <!-- Waktu Pemutaran -->
                <div class="flex justify-between w-full text-xs mb-1">
                    <span id="currentTimeDisplay">00:00</span>
                    <span id="durationDisplay">00:00</span>
                </div>
                
                <!-- Bar Waktu (Time Bar) -->
                <div class="time-bar-container w-full mb-5">
                    <div id="timeBarProgress" class="time-bar-progress"></div>
                </div>

                <!-- Kontrol Volume -->
                <div class="flex items-center w-full">
                    <!-- Ikon Speaker -->
                    <span class="text-xl mr-2">üîä</span>
                    
                    <!-- Slider Volume (Fungsional) -->
                    <div id="volumeSliderContainer" class="slider-container flex-grow">
                        <div id="volumeSliderFill" class="slider-fill" style="width: 70%;">
                            <div class="slider-thumb" id="volumeSliderThumb"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Status Bar di Bawah (Fungsional) -->
                <div class="w95-sunken w-full mt-4 text-center text-xs p-1" style="height: 20px; line-height: 14px;">
                    <span id="playbackStatus">READY</span>
                </div>
            </div>
        </div>

        <!-- CAKE.ME WINDOW (TIUP LILIN) -->
        <div id="cake-window" class="w95-base">
            <!-- Title Bar -->
            <div class="w95-title-bar">
                <div class="title-bar-text">CAKE.ME - TIUP LILIN</div>
                <div class="flex">
                    <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0;">_</div>
                    <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0; margin-left: 2px;">&#9744;</div>
                    <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0; margin-left: 2px;" onclick="closeCakeWindow()">X</div>
                </div>
            </div>
            
            <div class="window-content-wrapper flex flex-col">
                <div class="cake-container">
                    <div class="w95-title-bar w-full mb-5" style="background-color: #ff9900; color: black; border-color: #ffd700 #cc7a00 #cc7a00 #ffd700;">
                        <span class="mx-auto text-lg font-extrabold">AYO TIUP DULU</span>
                    </div>

                    <!-- Visual Kue dengan Lilin Api Animasi -->
                    <div class="cake-visual">
                        üéÇ
                        <div class="candle-container">
                            <div class="candle">
                                <div class="wick"></div>
                                <div class="flame"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Pesan Pengingat Doa -->
                    <p class="prayer-reminder w-full">
                        jangan lupa berdoa dulu yaa sebelum tiup lilin...
                    </p>

                </div>

                <!-- Tombol Aksi -->
                <div class="action-button-group w95-raised">
                    <button class="w95-button" onclick="openPrayerDialog()">
                        yuk berdoa
                    </button>
                    <button class="w95-button" onclick="closeCakeWindow()">
                        tiup lilin
                    </button>
                </div>
            </div>
        </div>

        <!-- PRAYER DIALOG (Modal Pop-up) -->
        <div id="prayer-dialog" class="w95-base">
            <!-- Title Bar -->
            <div class="w95-title-bar">
                <div class="title-bar-text">DOA SEBELUM TIUP LILIN</div>
                <div class="flex">
                    <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0;" onclick="closePrayerDialog()">X</div>
                </div>
            </div>
            
            <div class="dialog-content flex flex-col items-center">
                <p class="text-lg font-bold text-center mb-4 text-red-700">DOA KESELAMATAN & KEBERKAHAN</p>
                <div class="w95-sunken p-4 bg-white w-full text-center" style="min-height: 80px;">
                    <p class="text-sm font-serif italic" style="line-height: 1.5;">
                        "Allohumma Inni As‚Äôaluka salamatan fid dinni wa dunya Wal Aakhiroh Wa ‚Äòafayitan fii rizqi Wa barokatan fii ‚Äòumri"
                    </p>
                </div>
                <div class="mt-5">
                    <button class="w95-button" onclick="closePrayerDialog()">
                        kalo udah doa
                    </button>
                </div>
            </div>
        </div>

        <!-- GALLERY VIEWER WINDOW (gallery.jpg) -->
        <div id="gallery-window" class="w95-base">
            <!-- Title Bar -->
            <div class="w95-title-bar">
                <div class="title-bar-text">GALLERY VIEWER</div>
                <div class="flex">
                    <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0;">_</div>
                    <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0; margin-left: 2px;">&#9744;</div>
                    <div class="w95-button" style="width: 14px; height: 14px; font-size: 12px; padding: 0; margin-left: 2px;" onclick="closeGalleryWindow()">X</div>
                </div>
            </div>

            <!-- Window Content -->
            <div class="gallery-content-wrapper flex flex-col items-center">
                <!-- Counter -->
                <div class="w95-raised absolute top-3 right-3 p-1 text-xs" id="imageCounter">1/4</div>

                <!-- Image Display Area -->
                <div class="image-display-area">
                    <div class="polaroid">
                        <!-- Menggunakan onerror untuk menampilkan pesan fallback jika placeholder gagal dimuat -->
                        <img id="currentImage" src="" alt="Galeri Foto" class="gallery-image"
                             onerror="this.onerror=null; this.src='https://placehold.co/400x400/808080/ffffff?text=FOTO\nGAGAL\nDIMUAT';">
                        <div class="caption" id="imageCaption">Caption Foto</div>
                    </div>
                </div>
                
                <!-- Navigation Buttons -->
                <div class="navigation-buttons w-full flex justify-center py-4 px-2">
                    <button id="prevButton" class="w95-button" onclick="showPrevImage()">
                        &lt; Sebelumnya
                    </button>
                    <button id="nextButton" class="w95-button" onclick="showNextImage()">
                        Berikutnya &gt;
                    </button>
                    <!-- Tombol ini sekarang secara eksplisit menyebutkan file video -->
                    <button class="w95-button" onclick="console.log('VID1.MP4: File video ini (vid1.mp4) ada di folder, tapi fungsi pemutaran belum diimplementasikan.')">
                        Lihat Video (vid1.mp4)
                    </button>
                    <button class="w95-button" onclick="console.log('Cetak: Simulasi mencetak gambar...')">
                        Cetak
                    </button>
                </div>
            </div>
        </div>


        <!-- Ikon Desktop -->
        <div class="flex flex-col items-start p-2">
            
            <!-- ICON: present.exe -->
            <div class="desktop-icon" onclick="openBirthdayWindow()">
                <div class="icon-box">üéÅ</div>
                <span class="text-xs">present.exe</span>
            </div>

            <!-- ICON: music.mp3 -->
            <div class="desktop-icon" onclick="openMusicWindow()">
                <div class="icon-box">üéß</div>
                <span class="text-xs">music.mp3</span>
            </div>

            <!-- ICON: cake.me -->
            <div class="desktop-icon" onclick="openCakeWindow()">
                <div class="icon-box">üéÇ</div>
                <span class="text-xs">cake.me</span>
            </div>
            
            <!-- ICON: gallery.jpg (MEMANGGIL FUNGSI GALLERY) -->
            <div class="desktop-icon" onclick="openGalleryWindow()">
                <div class="icon-box">üñºÔ∏è</div>
                <span class="text-xs">gallery.jpg</span>
            </div>
        </div>
        
        <!-- Taskbar -->
        <div class="taskbar">
            <div class="start-button w95-raised" onclick="console.log('Menu Start: Tidak ada yang terjadi. Semua sudah ada di Desktop!')">
                <span class="mr-1">
                    <!-- Icon Windows Logo Placeholder -->
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 1L1 15L15 15L15 1L1 1Z" fill="#C0C0C0" stroke="black" stroke-width="1"/>
                        <path d="M1 1L15 1L15 15L1 15L1 1Z" fill="#C0C0C0" stroke="black" stroke-width="1"/>
                        <path d="M3 3H13V13H3V3Z" fill="#808080" stroke="black" stroke-width="1"/>
                        <rect x="5" y="5" width="6" height="6" fill="#000080"/>
                    </svg>
                </span>
                Start
            </div>
            
            <!-- Tombol Taskbar Dummy -->
            <div class="w95-button w95-sunken mr-2 flex items-center" 
                onclick="console.log('GameTerbaik.exe: Sedang tidak aktif. Silakan main Solitaire.')"
                style="height: 25px; line-height: 22px; padding: 0 4px;">
                <img src="https://placehold.co/16x16/c0c0c0/000?text=G" onerror="this.onerror=null; this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSIjYzBjMGMwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZpbGw9IiMwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJjZW50cmFsIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJpbnRlciI+RzwvdGV4dD48L3N2Zz4='" alt="Icon" class="mr-1 border border-black">
                GameTerbaik
            </div>

            <div class="flex-grow"></div> <!-- Spacer -->

            <div class="w95-sunken taskbar-time">
                <span id="currentTime">00:00 AM</span>
            </div>
        </div>
    </div>

    <script>
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        const loadingDialog = document.getElementById('loading-dialog');
        const desktop = document.getElementById('desktop');
        
        let progress = 0;
        const totalDuration = 5000; 
        const updateInterval = 50; 
        
        const hbdAudio = document.getElementById('hbdAudio');
        let isPlaying = false; 
        let isDraggingVolume = false; 
        let isDraggingTime = false; 

        // Data Galeri diperbarui untuk menampilkan nama file yang diminta: img1.jpg hingga img4.jpg
        const galleryData = [
            { id: 1, name: 'img1.jpg', url: 'https://placehold.co/400x400/4a86e8/ffffff?text=img1.jpg', caption: 'img1.jpg: Foto kenangan lama.' },
            { id: 2, name: 'img2.jpg', url: 'https://placehold.co/400x400/808080/ffffff?text=img2.jpg', caption: 'img2.jpg: Momen paling seru.' },
            { id: 3, name: 'img3.jpg', url: 'https://placehold.co/400x400/f1c232/000000?text=img3.jpg', caption: 'img3.jpg: Perjalanan ke sana.' },
            { id: 4, name: 'img4.jpg', url: 'https://placehold.co/400x400/e6b8af/000000?text=img4.jpg', caption: 'img4.jpg: Senyuman terhangat.' },
        ];
        let currentImageIndex = 0; 

        /**
         * Mengubah detik menjadi format MM:SS.
         */
        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = Math.floor(totalSeconds % 60);
            return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        /**
         * Simulates the loading process.
         */
        function startLoading() {
            loadingDialog.style.display = 'block';
            desktop.style.display = 'none';
            document.body.style.padding = '0';
            
            const startTime = Date.now();
            
            const interval = setInterval(() => {
                const elapsed = Date.now() - startTime;
                progress = Math.min(100, Math.floor((elapsed / totalDuration) * 100));

                progressBar.style.width = progress + '%';
                progressText.textContent = progress + '% Selesai';

                if (progress >= 100) {
                    clearInterval(interval);
                    progressBar.classList.remove('active');
                    onLoadingComplete();
                }
            }, updateInterval);
        }

        /**
         * Hides the loading dialog and shows the desktop environment.
         */
        function onLoadingComplete() {
            setTimeout(() => {
                loadingDialog.style.display = 'none';
                document.body.style.display = 'block';
                document.body.style.padding = '0';
                desktop.style.display = 'flex'; 
                
                openBirthdayWindow();
                
                setupVolumeSlider();
                setupTimeBar();
                setupAudioListeners();
            }, 500);
        }
        
        // --- FUNGSI JENDELA PRESENT.EXE ---
        function openBirthdayWindow() {
            const birthdayWindow = document.getElementById('birthday-window');
            birthdayWindow.style.display = 'flex';
        }

        function closeBirthdayWindow() {
            const birthdayWindow = document.getElementById('birthday-window');
            birthdayWindow.style.display = 'none';
        }

        // --- FUNGSI JENDELA CAKE.ME ---
        function openCakeWindow() {
            const cakeWindow = document.getElementById('cake-window');
            cakeWindow.style.display = 'flex';
        }

        function closeCakeWindow() {
            const cakeWindow = document.getElementById('cake-window');
            cakeWindow.style.display = 'none';
            closePrayerDialog(); 
        }

        function openPrayerDialog() {
            const prayerDialog = document.getElementById('prayer-dialog');
            prayerDialog.style.display = 'block';
        }
        
        function closePrayerDialog() {
            const prayerDialog = document.getElementById('prayer-dialog');
            prayerDialog.style.display = 'none';
        }
        
        // --- FUNGSI JENDELA GALLERY VIEWER ---
        /**
         * Memperbarui tampilan galeri dengan data saat ini.
         */
        function updateGalleryView() {
            const image = galleryData[currentImageIndex];
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');

            document.getElementById('currentImage').src = image.url;
            document.getElementById('imageCaption').textContent = image.caption; // Menampilkan nama file di caption
            document.getElementById('imageCounter').textContent = `${currentImageIndex + 1}/${galleryData.length}`;

            // Kelola status tombol navigasi
            const isFirst = currentImageIndex === 0;
            const isLast = currentImageIndex === galleryData.length - 1;

            prevButton.disabled = isFirst;
            nextButton.disabled = isLast;

            // Visual: Tombol nonaktif terlihat sunken (Win95 style)
            prevButton.classList.toggle('w95-sunken', isFirst);
            prevButton.classList.toggle('w95-raised', !isFirst); // Pastikan gaya raised/active saat aktif

            nextButton.classList.toggle('w95-sunken', isLast);
            nextButton.classList.toggle('w95-raised', !isLast);
        }

        /**
         * Membuka jendela Galeri.
         */
        function openGalleryWindow() {
            const galleryWindow = document.getElementById('gallery-window');
            galleryWindow.style.display = 'flex';
            currentImageIndex = 0; // Reset ke gambar pertama saat dibuka
            updateGalleryView();
        }

        /**
         * Menutup jendela Galeri.
         */
        function closeGalleryWindow() {
            const galleryWindow = document.getElementById('gallery-window');
            galleryWindow.style.display = 'none';
        }

        /**
         * Menampilkan gambar sebelumnya.
         */
        function showPrevImage() {
            if (currentImageIndex > 0) {
                currentImageIndex--;
                updateGalleryView();
            }
        }

        /**
         * Menampilkan gambar berikutnya.
         */
        function showNextImage() {
            if (currentImageIndex < galleryData.length - 1) {
                currentImageIndex++;
                updateGalleryView();
            }
        }
        
        // --- FUNGSI JENDELA MUSIC PLAYER ---
        function openMusicWindow() {
            const musicWindow = document.getElementById('music-window');
            musicWindow.style.display = 'flex';
        }

        function closeMusicWindow() {
            const musicWindow = document.getElementById('music-window');
            musicWindow.style.display = 'none';
            if (isPlaying) {
                hbdAudio.pause();
            }
            isPlaying = false;
            document.getElementById('playbackStatus').textContent = 'READY';
            document.getElementById('playIcon').textContent = '‚ñ∂';
        }
        
        function togglePlayback() {
            const statusElement = document.getElementById('playbackStatus');
            const iconElement = document.getElementById('playIcon');
            const trackTitle = document.getElementById('trackTitle');
            
            if (isNaN(hbdAudio.duration)) {
                statusElement.textContent = 'ERROR: hbd.mp3 TIDAK DITEMUKAN';
                trackTitle.textContent = 'hbd.mp3 (Gagal)';
                return;
            }
            
            isPlaying = !isPlaying;
            
            if (isPlaying) {
                hbdAudio.play().catch(error => {
                    console.error("Gagal memutar audio:", error);
                    statusElement.textContent = 'ERROR MEMUTAR (DIJEDA)';
                    isPlaying = false;
                    iconElement.textContent = '‚ñ∂';
                });
                statusElement.textContent = 'MEMUTAR';
                iconElement.textContent = '‚ñ†'; 
                trackTitle.textContent = 'hbd.mp3';
            } else {
                hbdAudio.pause();
                statusElement.textContent = 'DIJEDA';
                iconElement.textContent = '‚ñ∂'; 
                trackTitle.textContent = 'DIJEDA';
            }
        }
        
        function setupVolumeSlider() {
            const sliderContainer = document.getElementById('volumeSliderContainer');
            const sliderFill = document.getElementById('volumeSliderFill');
            
            if (!sliderContainer || !sliderFill) return;

            hbdAudio.volume = 0.7;

            const handleVolumeChange = (clientX) => {
                const rect = sliderContainer.getBoundingClientRect();
                let newVolumePx = clientX - rect.left;
                
                if (newVolumePx < 0) newVolumePx = 0;
                if (newVolumePx > rect.width) newVolumePx = rect.width;

                const volumeRatio = newVolumePx / rect.width;

                sliderFill.style.width = (volumeRatio * 100) + '%';
                hbdAudio.volume = volumeRatio;
                
                const volumeLevel = Math.round(volumeRatio * 100);
                document.getElementById('playbackStatus').textContent = `Volume: ${volumeLevel}%`;
            };

            // --- Mouse Events ---
            sliderContainer.addEventListener('mousedown', (e) => {
                isDraggingVolume = true;
                handleVolumeChange(e.clientX);
            });

            document.addEventListener('mousemove', (e) => {
                if (isDraggingVolume) {
                    e.preventDefault(); 
                    handleVolumeChange(e.clientX);
                }
            });

            document.addEventListener('mouseup', () => {
                isDraggingVolume = false;
                if (!hbdAudio.paused) {
                    document.getElementById('playbackStatus').textContent = 'MEMUTAR';
                }
            });

            // --- Touch Events ---
            sliderContainer.addEventListener('touchstart', (e) => {
                isDraggingVolume = true;
                e.preventDefault();
                const touch = e.touches[0];
                handleVolumeChange(touch.clientX);
            }, { passive: false });

            document.addEventListener('touchmove', (e) => {
                if (isDraggingVolume) {
                    e.preventDefault();
                    const touch = e.touches[0];
                    handleVolumeChange(touch.clientX);
                }
            }, { passive: false });

            document.addEventListener('touchend', () => {
                isDraggingVolume = false;
                if (!hbdAudio.paused) {
                    document.getElementById('playbackStatus').textContent = 'MEMUTAR';
                }
            });
        }
        
        function setupTimeBar() {
            const timeBarContainer = document.querySelector('.time-bar-container');
            
            const handleTimeChange = (clientX) => {
                const rect = timeBarContainer.getBoundingClientRect();
                let newTimePx = clientX - rect.left;
                
                if (newTimePx < 0) newTimePx = 0;
                if (newTimePx > rect.width) newTimePx = rect.width;

                const timeRatio = newTimePx / rect.width;
                
                if (hbdAudio.duration && isFinite(hbdAudio.duration)) {
                    hbdAudio.currentTime = hbdAudio.duration * timeRatio;
                }
            };
            
            // --- Mouse Events ---
            timeBarContainer.addEventListener('mousedown', (e) => {
                isDraggingTime = true;
                handleTimeChange(e.clientX);
            });
            
            document.addEventListener('mousemove', (e) => {
                if (isDraggingTime) {
                    e.preventDefault();
                    handleTimeChange(e.clientX);
                }
            });

            document.addEventListener('mouseup', () => {
                isDraggingTime = false;
            });
            
            // --- Touch Events ---
            timeBarContainer.addEventListener('touchstart', (e) => {
                isDraggingTime = true;
                e.preventDefault();
                const touch = e.touches[0];
                handleTimeChange(touch.clientX);
            }, { passive: false });

            document.addEventListener('touchmove', (e) => {
                if (isDraggingTime) {
                    e.preventDefault();
                    const touch = e.touches[0];
                    handleTimeChange(touch.clientX);
                }
            }, { passive: false });

            document.addEventListener('touchend', () => {
                isDraggingTime = false;
            });
        }
        
        function setupAudioListeners() {
            const timeBarProgress = document.getElementById('timeBarProgress');
            const currentTimeDisplay = document.getElementById('currentTimeDisplay');
            const durationDisplay = document.getElementById('durationDisplay');

            hbdAudio.addEventListener('loadedmetadata', () => {
                if (isFinite(hbdAudio.duration)) {
                    durationDisplay.textContent = formatTime(hbdAudio.duration);
                    document.getElementById('playbackStatus').textContent = 'READY';
                } else {
                    durationDisplay.textContent = '00:00';
                }
            });

            hbdAudio.addEventListener('timeupdate', () => {
                if (isDraggingTime) return; 
                
                if (isFinite(hbdAudio.duration) && hbdAudio.duration > 0) {
                    const ratio = hbdAudio.currentTime / hbdAudio.duration;
                    timeBarProgress.style.width = (ratio * 100) + '%';
                    currentTimeDisplay.textContent = formatTime(hbdAudio.currentTime);
                }
            });
            
            hbdAudio.addEventListener('ended', () => {
                isPlaying = false;
                document.getElementById('playbackStatus').textContent = 'SELESAI';
                document.getElementById('playIcon').textContent = '‚ñ∂';
                timeBarProgress.style.width = '100%'; 
                currentTimeDisplay.textContent = durationDisplay.textContent;
            });

            hbdAudio.addEventListener('error', (e) => {
                const statusElement = document.getElementById('playbackStatus');
                statusElement.textContent = 'ERROR MEMUAT FILE hbd.mp3';
                console.error("Gagal memuat audio. Pastikan 'hbd.mp3' berada di direktori yang sama.", e);
            });
        }


        // Setel waktu di Taskbar
        function updateTime() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12; 
            document.getElementById('currentTime').textContent = `${hours}:${minutes} ${ampm}`;
        }
        
        // Start the loading simulation and time update when the window loads
        window.onload = () => {
            startLoading();
            setInterval(updateTime, 1000);
            updateTime();
        };

        // Prevent controls from doing anything (for aesthetics)
        document.querySelectorAll('.w95-button, .start-button').forEach(button => {
            button.addEventListener('click', (e) => {
                const isControl = e.currentTarget.textContent.trim() === '_' || e.currentTarget.textContent.trim() === '‚òê';
                const isMenu = e.currentTarget.classList.contains('menu-item');
                
                if (isControl || isMenu) {
                    e.preventDefault();
                    console.log('Fungsi tombol diklik, tapi ini hanya simulasi!');
                }
            });
        });

    </script>
</body>
</html>
